<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      html,body,div { margin: 0; padding: 0; font: normal 16px/24px Helvetica Neue, Helvetica, sans-serif; color: #333; }
      #main { max-width: 630px; margin: 3em auto; }
      .bookmarklet { display: inline-block; padding: .5em 1em; color: #fff; background: #33e; border-radius: 4px; text-decoration: none; }
      a { color: #33e; }
    </style>
  </head>
  <body>
    <div id="main">
      <h1>Velo Bylines</h1>
      <p>
        Drag this button to your bookmarks bar to save it as a bookmarklet:
      </p>
      <p>
        <a class="bookmarklet" href="javascript:(function()%7Bfunction%20callback()%7B%24%3DjQuery.noConflict(!0)%3Blet%20e%3D!0%3B(%24(%22header%20time%22).length%7C%7C%24('header%20%5Brel%3D%22author%22%5D').length)%26%26(e%3D!1)%3Bif(e)%7Blet%20e%3Dfunction(e)%7Blet%20t%3D%5B%5D%2Ca%3D%5B%5D%3Bif(t.warn%3D%5B%5D%2Ct.found%3D%5B%5D%2Ce)%7Blet%20n%3DJSON.parse(e.text())%2Cr%3Dn%5B%22%40graph%22%5D.filter((e%3D%3E%22Article%22%3D%3D%3De%5B%22%40type%22%5D))%3Br.length%3F(t.found.pubDate%3Dr%5B0%5D.datePublished%2Ct.found.modDate%3Dr%5B0%5D.dateModified%2Ct.found.authorName%3Dr%5B0%5D.author.name)%3A(t.warn.push(%22URL%20has%20not%20been%20categorized%20as%20an%20article%22)%2Ca%3Dn%5B%22%40graph%22%5D.filter((e%3D%3Ee.hasOwnProperty(%22datePublished%22)))%2Ca.length%3Ft.found.pubDate%3Da%5B0%5D.datePublished%3A(t.found.pubDate%3D%22%22%2Ct.warn.push(%22No%20published%20date%20detected%22))%2Ca%3Dn%5B%22%40graph%22%5D.filter((e%3D%3Ee.hasOwnProperty(%22dateModified%22)))%2Ca.length%3Ft.found.modDate%3Da%5B0%5D.dateModified%3A(t.found.modDate%3D%22%22%2Ct.warn.push(%22No%20modified%20date%20detected%22))%2Ca%3Dn%5B%22%40graph%22%5D.filter((e%3D%3Ee.hasOwnProperty(%22author%22)))%2Ca.length%3Ft.found.authorName%3Da%5B0%5D.author.name%3A(t.found.authorName%3D%22%22%2Ct.warn.push(%22No%20author%20name%20detected%22)))%7Delse%20t.fatal%3D%22Yoast%20Schema%20Graph%20not%20found%22%3Breturn%20t%7D(%24(%22.yoast-schema-graph%22))%3Bconst%20t%3D%7Byear%3A%22numeric%22%2Cmonth%3A%22long%22%2Cday%3A%22numeric%22%7D%3Blet%20a%3D%22%22%2Cn%3De.found.pubDate%3BDate.parse(n)%7C%7C(e.warn.push(%22Invalid%20pubDate%2C%20failing%20back%20to%20modDate%22)%2Cn%3De.found.modDate%2Ca%3D%22%20(last%20modified)%22)%2CformatedDate%3Dnew%20Date(Date.parse(n)).toLocaleDateString(%22en-us%22%2Ct)%2Ba%2CauthorSlug%3Dfunction(e)%7Bif(!e)return%22%22%3Bvar%20t%3De.toLowerCase().trim()%3Breturn(t%3D(t%3Dt.normalize(%22NFD%22).replace(%2F%5B%5Cu0300-%5Cu036f%5D%2Fg%2C%22%22)).replace(%2F%5B%5Ea-z0-9%5Cs-%5D%2Fg%2C%22%20%22).trim()).replace(%2F%5B%5Cs-%5D%2B%2Fg%2C%22-%22)%7D(e.found.authorName)%3Bconst%20r%3D%7Bahood%3A%22andrew-hood%22%7D%3Br%5BauthorSlug%5D%26%26(authorSlug%3Dr%5BauthorSlug%5D)%3Blet%20o%3Ddocument.createElement(%22div%22)%2Cd%3Ddocument.createElement(%22time%22)%2Cu%3Ddocument.createElement(%22a%22)%3Bdocument.head.insertAdjacentHTML(%22beforeend%22%2C%22%3Cstyle%3E%5Cn%20%20%20%20%40keyframes%20error%20%7B%5Cn%20%20%20%20%20%20%20%200%25%20%20%20%7B%20background%3A%20rgba(255%2C%200%2C%200%2C%200.8)%3B%20%7D%5Cn%20%20%20%20%20%20%20%20100%25%20%7B%20background%3A%20rgba(255%2C%200%2C%200%2C%200.2)%3B%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20%40keyframes%20byline%20%7B%5Cn%20%20%20%20%20%20%20%200%25%20%20%20%7B%20background%3A%20rgba(0%2C%20255%2C%200%2C%200.8)%3B%20%7D%5Cn%20%20%20%20%20%20%20%20100%25%20%7B%20background%3A%20transparent%3B%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20.error%20%7B%5Cn%20%20%20%20%20%20%20%20background%3A%20rgba(255%2C%200%2C%200%2C%200.2)%3B%5Cn%20%20%20%20%20%20%20%20animation%3A%20error%203s%20ease-in%3B%5Cn%20%20%20%20%20%20%20%20text-align%3A%20center%3B%5Cn%20%20%20%20%20%20%20%20font-weight%3A%20bold%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20.byline%20%7B%5Cn%20%20%20%20%20%20background%3A%20transparent%3B%5Cn%20%20%20%20%20%20animation%3A%20byline%203s%20ease-in%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20%3C%2Fstyle%3E%22)%2Co.classList.add(%22o-post-meta%22%2C%22u-spacing--quarter%22)%2Cd.classList.add(%22o-timestamp%22%2C%22u-text-transform--upper%22%2C%22u-color--gray--dark%22%2C%22u-display--block%22%2C%22u-font--xs%22%2C%22u-letter-spacing--1%22)%2Cu.classList.add(%22o-byline%22%2C%22u-text-transform--upper%22%2C%22u-display--inline-block%22%2C%22u-font--xs%22%2C%22u-letter-spacing--1%22)%3Blet%20s%3D%22https%3A%2F%2Fvelo.outsideonline.com%2Fbyline%2F%22%2BauthorSlug%3Bif(u.setAttribute(%22rel%22%2C%22author%22)%2Cu.setAttribute(%22href%22%2Cs)%2CdateStrong%3Ddocument.createElement(%22strong%22)%2CauthorStrong%3Ddocument.createElement(%22strong%22)%2CdateStrong.innerHTML%3DformatedDate%2CauthorStrong.innerHTML%3De.found.authorName%2Cd.prepend(dateStrong)%2Cu.prepend(authorStrong)%2Co.prepend(u)%2Co.prepend(d)%2Co.classList.add(%22byline%22)%2C%24(%22.c-article-meta%22).length)%24(%22.c-article-meta%22).prepend(o)%3Belse%20for(found%20in%20e.warn.push(%22No%20metadata%20container%20detected%22)%2Ce.found)e.warn.push(found%2B%22%3A%22%2Be.found%5Bfound%5D)%3Bif(e.warn)for(warn%20of(e.warn.reverse()%2Ce.warn))%7Blet%20e%3Ddocument.createElement(%22div%22)%3Be.innerText%3Dwarn%2Ce.classList.add(%22error%22)%2Cdocument.body.prepend(e)%7D%7D%7Dvar%20s%3Ddocument.createElement(%22script%22)%3Bs.addEventListener%3Fs.addEventListener(%22load%22%2Ccallback%2C!1)%3As.readyState%26%26(s.onreadystatechange%3Dcallback)%2Cs.src%3D%22https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fjquery%2F1.9.1%2Fjquery.min.js%22%2Cdocument.body.appendChild(s)%3B%7D)()">Velo Bylines</a>
      </p>
      
      <p>This page was created with the <a href="https://github.com/mrcoles/bookmarklet">bookmarklet</a> npm library.</p>
    </div>
  </body>
</html>
